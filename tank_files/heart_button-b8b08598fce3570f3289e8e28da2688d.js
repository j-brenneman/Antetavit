!function(){function t(t){if(!a){var n=t(".collections-collect-button");if(n.length>0){var i=t(".youtique-dp-heart");if(!e&&!i.data("asin"))return;var o=t("<div>",{"class":"dp-heart-button"}),c=t("<div>",{"class":"dp-heart-hover",text:"Help us learn your style"});"like"==i.data("action")&&o.addClass("like");var d=function(t){t.setRequestHeader("X-CSRF-Token",i.attr("authenticity_token"))},r=function(){i.data("action","processing");var a=e?e.getState().current_asin:i.data("asin");o.addClass("like"),t.ajax({type:"POST",url:"/yt/product_actions/",data:{asin:a,action_type:"like",nf:"dp"},beforeSend:function(t){d(t)},error:function(){o.removeClass("like"),i.data("action",null)},success:function(t){i.data("id",t.id),i.data("action","like")}})},u=function(){i.data("action","processing"),o.removeClass("like"),t.ajax({type:"POST",url:"/yt/product_actions/"+i.data("id"),data:{_method:"delete"},beforeSend:function(t){d(t)},error:function(){i.data("action","like"),o.addClass("like")},success:function(){i.data("action",null)}})};o.click(function(){"unknown"==i.data("action")?window.location.href=i.data("redirect-url"):"processing"!=i.data("action")&&("like"==i.data("action")?u():r())}),n.append(o,c),a=!0}}}if("undefined"!=typeof P){var e=null,a=!1;P.when("twisterModule").execute(function(t){e=t}),P.when("jQuery","cf").execute(t),P.when("jQuery","twisterModule","cf").execute(t)}}();