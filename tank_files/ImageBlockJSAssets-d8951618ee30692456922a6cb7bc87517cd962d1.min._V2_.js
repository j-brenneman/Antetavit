(function(q){q.execute(function(){q.when("A","jQuery").register("imageBlockLogger",function(h,a){window.ImageBlockclientLogger=function(h,e){var b=this,d={},g={"www.amazon.com":"fls-na",devo:"fls-devo.vipinteg"};b.logSingleton=function(a){d[a]=1};b.logHit=function(a){d[a]?d[a]++:d[a]=1};b.logKeyValuePair=function(a,b){d[a]=b};b.deleteKey=function(a){d[a]&&delete d[a]};b.startTimer=function(a){d[a]=+new Date};b.endTimer=function(a){d[a]&&(d[a]=+new Date-d[a])};b.upload=function(){var b=(location.protocol==
"https:"?"https://":"http://")+(g[location.host]||g.devo)+".amazon.com/1/softlines/1/OP/"+h+"?"+a.param(d)+"&_="+ +new Date;(new Image).src=b};e&&a(window).unload(function(){b.upload()})}});q.when("A","jQuery").register("imageBlockUtils",function(h,a){function q(a,c){if(a&&c.volume!=null)a.setVolume(c.volume),c.volume=null}function e(i){var c=d.colorToAsin[i];c&&c.asin&&a.ajax({url:"/gp/product/features/apparel-main-image/videos.html",data:{asin:c.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,
useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP},dataType:"json",timeout:4E3,success:function(a){a&&(g[i]=a,h.trigger("image-block-video-fetch-completed",i))}})}var b={},d,g,ga,l,H,K=!1,f=a("#main-image-container");b.VIDEO_UNSUPPORTED_CLASS_NAME="noflash";b.flashNotInstalled=!1;b.embedAiryForChromelessPlayback=function(i,c,g,e,m,f){function d(){h.trigger("image-block-select-thumbnail",e.find("img:first"));h.trigger("image-block-first-thumbnail-selected")}return airyInstance=Airy.embed({isShowFirstFrameWhenReadyEnabled:!0,
parentElement:i[0],streamingUrls:c.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=i.find("video").length>0?"HTML5":"FLASH";m.logKeyValuePair("ChromelessVideo",a)},playing:function(){i.parent().css("z-index",8)},videounsupported:function(){b.flashNotInstalled=!0;d();m.logKeyValuePair("ChromelessVideo","NO_FLASH_ERROR");f.addClass(b.VIDEO_UNSUPPORTED_CLASS_NAME)},
error:function(){d();m.logKeyValuePair("ChromelessVideo","ERROR")},ended:function(){airyInstance.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(c,b,g){c=g.durationSeconds-g.playheadTimeSeconds;i.css("background-color","white").find(".airy-renderer-container").fadeTo(c*1E3,0.1,function(){i.parent().css({"background-color":"transparent","z-index":-1});d();a(this).show().css("opacity",1)})}}]})};b.embedAiryForChromefulPlayback=function(i,c,b,g){var e=a.extend({},b.foresterMetadataParams);
g!=null&&(e.method+="."+g);i=Airy.embed({parentElement:i[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:b.swfUrl,foresterMetadataParams:e,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:b.videoAds});q(i,b);return i};b.loadMediaIntoAiryAndSetVolume=function(a,c,b){a&&a.getMediaSourceInfo()!==c.url&&(a.loadMedia({mediaSourceInfo:c.url,contentId:c.mediaObjectId,
contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}),q(a,b))};b.setLandingColor=function(a){l=a};b.resizeHappened=function(){K=!0};b.getMainBlockHeight=function(){var a=f.get(0),c=0;if(typeof a!=="undefined")K?(c=a.offsetWidth/d.holderRatio,c=c>d.holderMaxHeight?d.holderMaxHeight:c):c=a.style.height;return c};b.loadImageManually=function(i,c){a(i,c).each(function(){var c=a(this);if(!c.attr("data-a-image-already-loaded")){c.attr("data-a-image-already-loaded",
!0);var i=b.loadDynamicImage(c),i=a("<img>").attr("src",i||c.data("a-image-source"));i.attr("data-a-hires",c.data("a-hires"));i.attr("data-old-hires",c.data("old-hires"));i.attr("data-a-manual-replacement",c.data("a-manual-replacement"));i.attr("data-a-dynamic-image",JSON.stringify(c.data("a-dynamic-image")));var g="";g+=c.attr("class");var e=c.data("a-extra-classes");e&&(g+=" "+e);i.attr("class",g);i.attr("id",c.attr("id"));i.attr("style",c.attr("style"));c.replaceWith(i)}})};b.loadImageAsynchronously=
function(a,c){if(!(a===null||a===void 0||typeof a!=="string")){var b=new Image;if(c!==null&&c!==void 0&&typeof c==="function")b.onload=c;b.src=a}};b.loadDynamicImage=function(i){var i=a(i),c=i.data("a-dynamic-image");if(c&&typeof c==="object"){var b=i.data("a-dynamic-image-container");typeof b==="undefined"&&(b=i.parents(".a-dynamic-image-container"),b.length===0&&(b=i.parent()),i.data("a-dynamic-image-container",b));var g=window.devicePixelRatio?window.devicePixelRatio:1,e=b.width()*g,f=b.height()*
g,d=Number.MAX_VALUE,h=Number.MAX_VALUE,l=i.attr("src")||"",E,aa=e/f;a.each(c,function(a,c){var i=parseInt(c[0],10),b=parseInt(c[1],10);i-=f;b-=e;b=aa>=1?b:i;Math.abs(b)<h&&b>=0&&(h=Math.abs(b),E=a);Math.abs(b)<d&&(d=Math.abs(b),l=a)});E&&(l=E);return l}};b.getVideos=function(a){if(d.useChildVideos){if(a==l)a=d.defaultColor;g[a]||(g[a]=[],e(a));return g[a]}return d.videos};b.getBestUrlForAvailableWidth=function(b){var c=0,g;a.each(b,function(a,b){b[0]>c&&(g=a,c=b[0])});return g};b.getMaxWidthOfSlateImages=
function(b){var c=0;a.each(b,function(a,b){var i=parseInt(b[0],10);i>c&&(c=i)});return c};b.getMaxHeightOfSlateImages=function(b){var c=0;a.each(b,function(a,b){var i=parseInt(b[1],10);i>c&&(c=i)});return c};b.getMaxWidthOfMainImage=function(a){var c=f.width(),a=b.getMaxWidthOfSlateImages(a);a>0&&(c=Math.min(c,a));return c};b.getMaxHeightOfMainImage=function(a){var c=f.height(),a=b.getMaxHeightOfSlateImages(a);a>0&&(c=Math.min(c,a));return c};b.getMaxDimensionsOfMainImage=function(){var a,c=d.mainImageHeightPartitions,
b=d.mainImageMaxSizes;if(c&&typeof c!==void 0&&b&&typeof b!==void 0){for(var g=0,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=0;f<c.length;f++)e>c[f]&&(g=f+1);b.length>=g&&(a=b[g])}return a};b.getColorFromState=function(b){if(b){var c="",g=DetailPage.StateController.getState().variation_display_labels;a.each(d.visualDimensions,function(a,e){var f=d.gIsNewTwister==1?e:g[e];b[f]&&(c+=" "+b[f])});return c&&c.substring(1)}};b.isBuyableVariation=function(a){if(!a.current_hovered_asin){var c=
a.num_variation_dimensions;return a.num_dimensions_selected!=c&&a.num_dimensions_hovered!=c}return!0};b.showUnavailableExp=function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())};b.hideUnavailableExp=function(){a("#imageBlock .unavailableExp").hide()};b.setImageCaption=function(g,c,e,f,m,h){ga&&clearTimeout(ga);ga=null;m&&(ga=setTimeout(function(){b.setImageCaption(g,c,f)},m));m=a("#image-canvas-caption #canvasCaption");if(c!=="image")m.html("");
else{var l=d.staticStrings,D="";h&&d.useIV?D=l.clickToExpand:H[g]&&H[g][e].hiRes&&d.useHoverZoom?D=d.hoverZoomIndicator&&d.useHoverZoomIpad?"<img src='"+d.staticImages.hoverZoomIcon+"'/>&nbsp;"+l.touchToZoom:d.useHoverZoomIpad?l.touchToZoom:d.hoverZoomIndicator?"<img src='"+d.staticImages.hoverZoomIcon+"'/>&nbsp;"+l.rollOverToZoom:d.useClickZoom?l.clickToZoom:l.rollOverToZoom:d.useIV&&(D=l.clickToExpand);m.html(D)}};b.getSlateImage=function(a){return d.useChildVideos&&d.colorToAsin[a].slate[0]};b.init=
function(a){b.options=d=a;H=d.colorImages;l=d.landingColor||d.defaultColor;g={};g[d.defaultColor]=d.videos;return b};typeof JSON!=="object"&&(JSON={});(function(){function a(b){return b<10?"0"+b:b}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=h[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,e){var f,i,h,m,s=d,o,k=e[a];k&&typeof k==="object"&&typeof k.toJSON==="function"&&(k=k.toJSON(a));typeof q===
"function"&&(k=q.call(e,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";d+=l;o=[];if(Object.prototype.toString.apply(k)==="[object Array]"){m=k.length;for(f=0;f<m;f+=1)o[f]=g(f,k)||"null";h=o.length===0?"[]":d?"[\n"+d+o.join(",\n"+d)+"\n"+s+"]":"["+o.join(",")+"]";d=s;return h}if(q&&typeof q==="object"){m=q.length;for(f=0;f<m;f+=1)typeof q[f]==="string"&&(i=q[f],(h=g(i,k))&&
o.push(b(i)+(d?": ":":")+h))}else for(i in k)Object.prototype.hasOwnProperty.call(k,i)&&(h=g(i,k))&&o.push(b(i)+(d?": ":":")+h);h=o.length===0?"{}":d?"{\n"+d+o.join(",\n"+d)+"\n"+s+"}":"{"+o.join(",")+"}";d=s;return h}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=
Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,l,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,b,c){var e;l=d="";if(typeof c===
"number")for(e=0;e<c;e+=1)l+=" ";else typeof c==="string"&&(l=c);if((q=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return g("",{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function c(a,g){var e,f,d=a[g];if(d&&typeof d==="object")for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(f=c(d,e),f!==void 0?d[e]=f:delete d[e]);return b.call(a,g,d)}var g,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),typeof b==="function"?c({"":g},""):g;throw new SyntaxError("JSON.parse");}})();return b});q.when("A","jQuery").register("imageMagnifier",function(h,a){function q(a){var b=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i),a={};if(b)for(var b=
b[1].split("_"),d=0;d<b.length;d++){var g=b[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);g&&(a[g[1]]=Number(g[2]))}return a}a.fn.amazonMagnifier=function(e){function b(){var a;e.useClickZoom?(a=e.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(J[0]+a))/(J[2]-2*a)),Math.min(1,Math.max(0,I[1]-(J[1]+a))/(J[3]-2*a))]):a=A&&A.updatePosition();if(a&&c.detailSize){var b=[c.detailSize[0]-c.rect.width,c.detailSize[1]-c.rect.height];c.detailImage.get(0).style.left=-(a[0]*b[0])+"px";c.detailImage.get(0).style.top=-(a[1]*
b[1])+"px"}}function d(a){var b=O?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";I=O?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function g(a){O&&a.preventDefault();d(a);e.useClickZoom?a=[J[0],J[1],J[0]+J[2],J[1]+J[3]]:(a=A?A.offset:f.offsetParent().offset(),a=[m[0]+a.left,m[1]+a.top,m[0]+m[2]+a.left,m[1]+m[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]?e.burjImageBlock?w||(w=!0,R=setTimeout(function(){l(!0)},500)):e.useClickZoom||l():(e.burjImageBlock&&w&&(w=!1,clearTimeout(R)),
b())}function h(){var b=a(e.locationElement).find("select:visible");aa?ba=b.hide():a("select").each(function(){a(this).blur()})}function l(b){b&&f.suppressMagnifier(!0);if(D&&(a.browser.msie&&a("#main-image-widget .holder.video").show(),ba&&ba.show(),c&&c.hide(),A&&(A.destroy(),A=null),D=!1,O?(f.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),K(),b))f.one("click.magnifier touchstart.magnifier",
function(a){H(a,!0)})}function H(i,p){p&&f.suppressMagnifier(!1);if(!D&&!W){document.body&&a(document.body).trigger("click");e.logMetrics&&(ca==0&&(a.imageBlock.logger.logKeyValuePair("hoverTime",new Date-window.ue.t0),ca=1),U[E]||(a.imageBlock.logger.logHit("hoverMain"),U[E]=1));m=[f.position().left,f.position().top,f.width(),f.height()];a.browser.msie&&a("#main-image-widget .holder.video").hide();if(E){if(a.browser.msie&&!a.isReady){a("#main-image-widget .holder.video").show();return}h();d(i);c?
c.refit().show():c=new k;e.useClickZoom||(A=A||new o);J=c.getWindowSize();b()}D=!0;O?(f.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",g).bind("touchend.magnifier",l),a(document).trigger("engaged.magnifier")):(f.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",g));if(p){var X=a("#zoomWindow");if(X.length>0)X.one("click.magnifier touchend.magnifier",function(){l(!0)})}}}function K(){e.useHoverZoom&&(O?f.bind("touchstart.magnifier touchmove.magnifier",
H):f.bind("mousemove.magnifier",H))}var f=this,i={detailImageUrl:f.attr("data-old-hires"),location:"over",locationElement:f,prelaod:"ready",zIndex:50,offsetInClickZoom:50},e=a.extend(i,e);e.adjustment=[10,0,-10,0];var c=null,A=null,I=null,m=null,J=null,$={"null":1,"":1,undefined:1},D=!1,W=!1,E=e.detailImageUrl,aa=a.browser.msie&&parseInt(a.browser.version)<=6,ba,O=e.useHoverZoomIpad||0,ca=0,U={},s=navigator.userAgent.match(/msie|trident/i),o=function(){function b(a){var g=Math.round(Math.min(f.width(),
c.rect.width/a)),a=Math.round(Math.min(f.height(),c.rect.height/a));M.css({width:g,height:a});d=[g,a]}var g=this,d=[0,0],i=(c.detailSize&&c.detailSize[0]||5E8)/m[2],h=(c.detailSize&&c.detailSize[1]||5E8)/m[3];h>i&&(i=h);a("#magnifierLens").remove();var M=a("<div id='magnifierLens' />").css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")",position:"absolute",cursor:"pointer"});g.updatePosition=function(){var a=[m[2]-d[0],m[3]-d[1]],b=a[0]<=0?0.5:Math.max(0,Math.min(1,(I[0]-d[0]/2-
m[0]-g.offset.left)/a[0])),c=a[1]<=0?0.5:Math.max(0,Math.min(1,(I[1]-d[1]/2-m[1]-g.offset.top)/a[1])),e=m[0]+Math.round(b*a[0]),a=m[1]+Math.round(c*a[1]);M.get(0).style.left=e+"px";M.get(0).style.top=a+"px";return[b,c]};g.destroy=function(){M.remove()};g.offset=f.offsetParent().offset();b(i);g.updatePosition();M.appendTo(f.parent());c.detailImage[0].complete||c.detailImage.load(function(){var a=c.detailImage.width()/m[2];b(a);g.updatePosition()})};o.preload=function(){f.preload(e.generalImageUrls.lensBackgroundUrl)};
var k=function(){function c(){var b={};if(e.location=="over")if(e.isUDP){var b=e.useClickZoom,g=e.burjImageBlock,l={left:Infinity,top:Infinity,right:-Infinity,bottom:-Infinity},k=a("#leftCol"),m=a("#centerCol"),o=a("#hover-zoom-end");g?(l.top=k.offset().top,l.bottom=k.outerHeight()+l.top,l.right=k.outerWidth()+k.offset().left):(l.top=m.offset().top,l.bottom=m.outerHeight()+l.top,l.right=a("#rightCol").offset().left);l.left=b?0:k.offset().left+k.outerWidth();if(o&&o.offset().top>l.bottom)l.bottom=
o.offset().top;b=l}else a(".productImageGrid").length>0?b=hoverZoomBound():(b.left=0,b.right=0);else e.location=="right"&&(b=f.offset(),b={left:b.left+f.outerWidth(),top:b.top,right:b.left+f.outerWidth()+400,bottom:b.top+400});if(e.minHeightElement)b.bottom=Math.max(b.bottom,b.top+a(e.minHeightElement).outerHeight());b.bottom=Math.min(b.bottom,a(window).scrollTop()+a(window).height());b.left+=i[0];b.top+=i[1];b.right+=i[2];b.bottom+=i[3];b.width=b.right-b.left;b.height=b.bottom-b.top;h.css({left:b.left,
top:b.top,width:b.width,height:b.height});d.rect=b;return d}function g(a){var c=new Image;c.src=a.attr("src");if(c.width>0&&c.height>0)d.detailSize=[c.width,c.height];else if(e.detailImageSize)d.detailSize=e.detailImageSize;else{var a=q(c.src),f=m[2]/m[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/f)]:a.SY?d.detailSize=[Math.round(a.SY*f),a.SY]:a.SL?d.detailSize=f>=1?[a.SL,Math.round(a.SL/f)]:[Math.round(a.SL*f),a.SL]:(d.detailSize=[0,0],c.onload=function(){d.detailSize=
[c.width,c.height];b()})}}var d=this,i=e.adjustment;a("#zoomWindow").remove();var h=a("<div id='zoomWindow' />").css({overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex});e.burjImageBlock&&h.fadeIn(200);e.useClickZoom&&(s?h.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out")));d.updateImage=function(b){b=a("<img id='detailImg' src='"+b+"'/>").css("position","absolute");d.detailImage&&
d.detailImage.remove();h.append(b);a(document).trigger("updated.magnifier");d.detailImage=b;g(d.detailImage)};d.refit=function(){c();g(d.detailImage);return d};e.burjImageBlock?(d.show=function(){h.fadeIn(200);return d},d.hide=function(){h.fadeOut(200);return d}):(d.show=function(){h.show();return d},d.hide=function(){h.hide();return d});d.destroy=function(){h.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(E);c();h.appendTo(document.body)},
w=!1,R;f.preload=function(b){for(var b=a.makeArray(b),c=b.length,g=0;g<c;g++)if(b[g]instanceof Array)f.preload(b[g]);else if(typeof b[g]=="string"&&b[g]&&!$[b[g]])$[b[g]]=new Image,$[b[g]].src=b[g]};f.changeImage=function(b,g){D&&l();E=g;f.attr("src",b);if(a.browser.msie)f.get(0).className=f.get(0).className;f.preload(b);m=[f.position().left,f.position().top,f.width(),f.height()];g&&(e.preload=="immediately"?f.preload(g,!0):a(window).ready(function(){f.preload(g)}),c?c.updateImage(g):f.attr("data-old-hires",
g))};f.destroy=function(){f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;c&&c.destroy();c=null};f.detailImage=function(){return c.detailImage};f.suppressMagnifier=function(a){W=a};f.isEngaged=function(){return D};f.engageMagnifier=H;f.disengageMagnifier=l;f[0].complete?K():f.one("load",K);f.preload(this.attr("src"));if(e.preload){var V=e.detailImageUrl,i=function(){f.preload(V,!0);e.useClickZoom||
o.preload()},p=e.preload;p.constructor!=Array&&(p=[p]);for(var F=0;F<p.length;F++)if(p[F]=="immediately")i();else if(a(window)[p[F]])a(window)[p[F]](i);else a(window).bind(p[F],i)}return f}});q.when("A","jQuery","ImageBlockBTF").register("immersiveView",function(h,a,q){var e,b;function d(){v=a('<div id="iv-first-column" style="float: left; width:'+(a(window).width()-da-330)+'px;height:100%; margin-right: 15px;"/>');var j=a('<div width="100%" id="iv-large-image" style="overflow: hidden; width: 100%; height: '+
(a(window).height()-X-15)+'px;align:center; position:relative; top:0px; left:0px;"/>');n=a("<div></div>").attr("id","iv-large-video").css({overflow:"hidden",width:"100%",height:"100%",align:"center"});V!=="image"&&j.css("display","none");v.append(j);v.append(n);p.append(v)}function g(){a("<img>").attr("src",""+Q.arrow+"");a("<img>").attr("src",""+Q.zoomIn+"");a("<img>").attr("src",""+Q.zoomOut+"")}function ga(){var j=a('<div style="float: left; width: 235px;" id="iv-sec-column"></div>');a('<style type="text/css">a.iv-title-link:link {text-decoration: none;}a.iv-title-link:visited {text-decoration: none; color: #003399}a.iv-title-link:hover {text-decoration: underline; color: orange;}</style>').appendTo("head");
var b='<div style="text-align: left; margin-top: 10px; font-family: verdana, arial, helvetica, sans-serif; font-size: 14px; font-weight: bold; word-wrap: break-word; width: 235px;" id="iv-prod-title" title="'+U+'"><a class="ap_custom_close iv-title-link" href="">',y=U,c=y=new String(y);if(y.length>45){try{for(var d=-1,e=0;e<y.length;e++){var f=y.charAt(e);if(f==" "||f=="."||f=="?"||f==";"||f==","||f==":")d=e;if(e==41){c=y.substring(0,d==-1?e:d);break}}}catch(i){c=y.substring(0,42)}c+="..."}b=a(b+
c+"</a></div>");b.find(".ap_custom_close").click(K);j.append(b);if(w&&typeof DetailPage!="undefined"&&DetailPage.StateController){var b='<div style="text-align: left;"  id="iv-variation-selection">',y=DetailPage.StateController.getState(),c=y.variation_label_order,h;for(h in c)e=c[h],d=y.selected_variations[e],e=y.variation_display_labels[e],d&&(b+='<div style="padding-top:10px; padding-bottom:3px; font-family: verdana, arial, helvetica, sans-serif; font-size:11px; color:#666">'+e+" : "+d+"</div>");
b+="</div>";h=a(b);j.append(h)}h='<div style="width:235px; border:1px solid #C9E1F4; background-color:#EAF3FD; padding-top: 5px; padding-bottom: 5px; margin-top:15px; display: none" id="iv-tabbing">';h+='<select id="iv_media_select" style="position:relative;left:65px">';h+='<option id="all" value="all" selected>'+ivStrings.allMedia+"</option>";h+='<option id="images" value="images">'+ivStrings.images+"</option>";h+='<option id="videos" value="videos">'+ivStrings.videos+"</option>";h+="</select>";
h+=a.browser.msie?'<span class="swSprite s_boxLeft" style="top: -14px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -14px; left: 111px; display: none;"> </span>':'<span class="swSprite s_boxLeft" style="top: -12px; left: -102px; display: none;"> </span>  <span class="swSprite s_boxRight" style="top: -12px; left: 108px; display: none;"> </span>';h+="</div>";h=a(h);j.append(h);a('<style type="text/css">.iv_thumbs { border:1px solid #C9E1F4;width:235px;height:290px;padding-left:15px;padding-top:15px;padding-bottom:15px; overflow-y:auto; border-top:0px;position:relative; top:0px; left:0px; }.iv_thumb_videos {  border:1px solid #C9E1F4;width:235px;height:230px;padding:0px; overflow-y:auto; border-top:0px; }.iv_thumb_video_outer { float:left; width:100%; padding-top:5px; padding-bottom:5px;cursor:pointer}.iv_thumb_video_outer_hover { background-color: #EAF3FD }.iv_thumb_video { border: 1px solid #ddd;float:left; margin-left:10px;margin-right:10px;cursor:pointer; }.iv_thumb { border: 1px solid #ddd;float:left; margin-right:12px; margin-bottom:20px; cursor:pointer; }.iv_thumb_selected { border: 2px solid #E47911; }.iv_thumb_hover { border: 2px solid #004B91; }.iv_thumb_inner { padding: 1px;float:left; }.iv_thumb_inner_selected { padding: 0px; }.iv_thumb_image { float:left;position:relative;width:50px; height:50px; background-color:#ffffff}.iv_thumb_text { float:left; word-wrap:break-word; width:130px; margin-top:10px; font-family:verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_popover { font-family: verdana, arial, helvetica, sans-serif; font-size:11px }.iv_thumb_text_hover { background-color: #EAF3FD }</style>').appendTo("head");
h="<div class='iv_thumbs'>";h+="</div>";h+="<div class='iv_thumb_videos' style='display: none; height: 63px;'>";h+="</div>";h=a(h);j.append(h);g();p.append(j)}function l(){a("#addIV-Main").click(function(){a("#iv_media_select").css("visibility","visible")});a(window).resize(function(){M&&A()});H()}function H(){a(".iv_thumb").click(function(){a(".iv_thumb").removeClass("iv_thumb_selected");a(".iv_thumb").removeClass("iv_thumb_hover");a(".iv_thumb").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");
a(this).addClass("iv_thumb_selected");a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");a(this).hasClass("iv_type_video")?(o=a(this).attr("id").split("_")[1],k=-1,E()):(k=a(this).attr("id").split("_")[1],o=-1,f())});a(".iv_thumb_video_outer").click(function(){a(".iv_thumb_video").removeClass("iv_thumb_selected");a(".iv_thumb_video").removeClass("iv_thumb_hover");a(".iv_thumb_video").find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected");a(this).find(".iv_thumb_video").addClass("iv_thumb_selected");
a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected");o=a(this).attr("id").split("_")[1];k=-1;E()});a(".iv_thumb").mouseover(function(){T&&T.close();a(this).hasClass("iv_thumb_selected")||(a(this).addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"));if(a(this).hasClass("iv_type_video")){var j=Number(a(this).attr("id").split("_")[1]);if(!(j>=L.length)){var j=L[j],j="<span class='iv_thumb_text_popover'><b>"+j.title+"</b><br>"+j.durationTimestamp+
"</span>",b=a(this).offset().left-a(".iv_thumbs").offset().left<=30?-27:-50,c=-11;a.browser.msie&&parseInt(a.browser.version)==6&&(c=-16);T=a.AmazonPopover.displayPopover({literalContent:j,width:180,location:["top"],locationElement:this,locationAlign:"middle",locationOffset:[b,c],zIndex:1E3,hoverShowDelay:300,hoverHideDelay:300,showCloseButton:!1,attached:!0,modal:!1});a.browser.msie&&parseInt(a.browser.version)==6?T.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",
top:"-2px",background:"url("+Q.arrow+") -343px -40px"}):T.find(".ap_footer").find(".ap_middle").css({position:"relative",height:"30px",width:"112px",top:"-3px",background:"url("+Q.arrow+") -343px -43px"})}}});a(".iv_thumb_video_outer").mouseover(function(){a(this).addClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").addClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").addClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").addClass("iv_thumb_inner_selected"))});
a(".iv_thumb").mouseout(function(){a(this).hasClass("iv_thumb_selected")||(a(this).removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"));T&&T.close()});a(".iv_thumb_video_outer").mouseout(function(){a(this).removeClass("iv_thumb_video_outer_hover");a(this).find(".iv_thumb_text").removeClass("iv_thumb_text_hover");a(this).find(".iv_thumb_video").hasClass("iv_thumb_selected")||(a(this).find(".iv_thumb_video").removeClass("iv_thumb_hover"),a(this).find(".iv_thumb_inner").removeClass("iv_thumb_inner_selected"))});
a("#ap_container").keydown(function(a){if(a.keyCode==37||a.keyCode==38||a.keyCode==39||a.keyCode==40||a.keyCode==33||a.keyCode==34)return!1})}function K(){if(t&&!t.isDetached())Z.volume=t.getVolume(),t.detach(),document.all&&!window.atob&&!document.addEventListener&&(t=null)}function f(){function j(){ka=!1;g.css("visibility","hidden");g.empty();g.animate({opacity:1},200);g.append(y);i();r=!1;Y[y.attr("src")]=1}t&&t.hide();a("#iv-large-image").css("display","block");var b="";s&&s[w]&&s[w].images&&
(b=s[w].images.zoomImages[k]);if(b){p.find(".fullScreen")&&p.find(".fullScreen").remove();N="<img src='"+b+"'class='fullScreen'/>";var y=a("<img>").attr("src",b);y.addClass("fullScreen");var g=a("#iv-large-image");g.animate({opacity:0.4},200,function(){y.load(function(){j()});a(N).load(function(){j()});if(Y[y.attr("src")])j();else{ka=!0;g.empty();var b=(v.height()-na)/2,sa=(v.width()-oa)/2;a("#iv-large-image").append("<img src='"+Q.spinner+"' style='position:relative;top:"+b+"px;left:"+sa+"px;' />")}});
y.load(function(){Y[y.attr("src")]=1;c()});a(N).load(function(){Y[y.attr("src")]=1;c()})}}function i(){ha=!1;var j=a("#iv-large-image"),b=j.width(),c=j.height(),j=a("#iv-large-image").find(".fullScreen");j.removeAttr("style");var g=B=j.width();u=j.height();g=g>u?g:u;if(j.length>0){if(j[0].naturalWidth)B=j[0].naturalWidth,g=g>B?g:B;if(j[0].naturalHeight)u=j[0].naturalHeight,g=g>u?g:u}v.css({cursor:"auto"});g>=1E3&&(a.browser.mozilla?v.css({cursor:"-moz-zoom-in"}):v.css({cursor:"url('"+Q.zoomIn+"'), auto"}));
B=B==0?1:B;u=u==0?1:u;var d=Math.min(b/B,c/u),g=u*d;d*=B;j.css("height",g<u?g-20:u);j.css("width",Math.min(d,B));b=(b-j.width())/2;c=(c-j.height())/2;j.css("margin-top",c);j.css("margin-left",b);a("#iv-large-image").css("visibility","visible")}function c(){for(var j=-3;j<=3;j++){var b=parseInt(k)+j;if(!(b<0))if((b=s&&s[k]?s[k].images.zoomImages[b]:"")&&Y[b]==void 0)a("<img>").attr("src",b).load(function(){Y[a(this).attr("src")]=1});else if(!b)break}}function A(){var j=a(window).height()-X,b=a(window).width()-
da;j>230&&(a("#IV-Main").css({height:j+"px"}),a("#iv-large-image").css({height:j-15+"px"}),j-=ia,a(".iv_thumbs").css({height:j+"px"}),a(".iv_thumb_videos").css({height:j+ja+"px"}));b>500&&(a("#IV-Main").parents(".ap_popover").css({width:b+"px"}),a("#iv-first-column").css({width:b-330+"px"}));o||i()}function I(a){a=m({left:C.left-(a.pageX-x[0])*G,top:C.top-(a.pageY-x[1])*G});p.find(".fullScreen").css({left:a.left,top:a.top})}function m(a){if(e>0)a.left=e/2;else if(a.left<e)a.left=e;else if(a.left>
0)a.left=0;if(b>0)a.top=b/2;else if(a.top<b)a.top=b;else if(a.top>0)a.top=0;return a}function J(){var j=0;if(s&&s[w]&&s[w].images&&s[w].images.thumbnails)j=s[w].images.thumbnails.length;var b=L?L.length:0,c=a(".iv_thumbs"),g=a("#iv-tabbing");if(j==0||b==0)g.hide(),c.css({"margin-top":"15px","border-top":"1px solid #C9E1F4"});else{var d=a("#iv_media_select");d.find("#all").text(ivStrings.allMedia+" ("+(j+b)+")");d.find("#videos").remove();d.find("#images").remove();d.append('<option id="images" value="images">'+
ivStrings.images+" ("+j+")</option>");d.append('<option id="videos" value="videos">'+ivStrings.videos+" ("+b+")</option>");g.show();c.css({"margin-top":"0px","border-top":"0px"});d.val("all");$()}}function $(){a("#iv_media_select").change(function(){a(this).val()=="all"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show(),k>=0?(o=-1,a("#ivimage_"+k).click()):o>=0&&(k=-1,a("#ivvideo_"+o).click())):a(this).val()=="images"?(a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),
a(".iv_type_video").hide(),o=-1,k>=0?a("#ivimage_"+k).click():(k=0,a("#ivimage_0").click())):a(this).val()=="videos"&&(a(".iv_thumb_videos").show(),a(".iv_thumbs").hide(),k=-1,o>=0?a("#ivvideolist_"+o).click():(o=0,a("#ivvideolist_0").click()))})}function D(){var j="";a.each(L||[],function(a,b){j+="<div class='iv_thumb_video_outer' id='ivvideolist_"+a+"'>";j+="<div class='iv_thumb_video'>";j+="<div class='iv_thumb_inner'>";j+="<div class='iv_thumb_image' style=\"background:url("+b.thumbUrl+') center no-repeat">';
j+="</div>";j+="</div>";j+="</div>";j+="<div class='iv_thumb_text'><b>"+b.title+"</b><br>"+b.durationTimestamp+"<div style='clear:both'></div></div>";j+="</div>"});a(".iv_thumb_videos").html(j)}function W(){var j;if(s&&s[w])j=s[w].images.thumbnails;var b="",c=0,g=j?j.length:0;g+=(L||[]).length;if(j)for(var d=j.length,e=0;e<d;e++){c%3==0&&(b+="<div style='height:75px;'>");b+="<div class='iv_thumb' id='ivimage_"+e+"'>";b+="<div class='iv_thumb_inner'>";b+="<div class='iv_thumb_image' style=\"background:url("+
ba(j[e])+') center no-repeat">';b+="</div>";b+="</div>";b+="</div>";if((c+1)%3==0||c==g-1)b+="</div>";c++}a.each(L||[],function(a,j){c%3==0&&(b+="<div style='height:75px;'>");b+="<div class='iv_thumb iv_type_video' id='ivvideo_"+a+"'>";b+="<div class='iv_thumb_inner'>";b+="<div class='iv_thumb_image' style=\"background:url("+j.thumbUrl+') center no-repeat">';b+="</div>";b+="<div id='data_ivvideo_"+a+"' value='"+j.mediaObjectId+"' />";b+="</div>";b+="</div>";if((c+1)%3===0||c===g-1)b+="</div>";c++});
a(".iv_thumbs").html(b)}function E(){if(o){a("#iv-large-image").css("display","none").empty();var j=L[o];t?(t.isDetached()&&t.attach(n[0]),F.loadMediaIntoAiryAndSetVolume(t,j,Z),t.show()):(t=F.embedAiryForChromefulPlayback(n,j,Z,"ImmersiveView"),Z.enableContinuousPlay&&t.bind("ended",aa));t.play({isAsync:!0})}}function aa(){var j=parseInt(o)+1;j>=L.length||a("#ivvideo_"+j).click()}function ba(a){var a=a.replace(/'/g,"").replace("._SL75_","").replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,
""),a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,""),b=a.lastIndexOf(".");return a=a.substring(0,b)+"._AA50_"+a.substring(b)}function O(){K();a("#iv-large-image").empty();a(document.body).css("overflow","auto");a("#ap_container").unbind("keydown");M=!1;V!="image"&&R&&a("#altImages").find(".a-button-selected").mouseenter()}function ca(){M=!0;a(document.body).css("opacity","");var b=document.body.style;a.browser.msie&&b&&b.filter==""&&b.removeAttribute("filter");a("#IV-Main").parents(".ap_popover").css({top:a("body").scrollTop()+
28+"px"});k>=0?a("#ivimage_"+k).click():o>=0?a("#ivvideo_"+o).click():a("#ivimage_0").click();A()}var U,s,o,k,w,R=0,V,p,F,Q,da=42,X=125,ia=210,ja=30,M=!1,T,Y={},na=104,oa=80,v,ka=!1,ha=!1,B,u,C={left:0,top:0};e=void 0;b=void 0;var N,x=[0,0],G=4,r=!1,n,L=[],t,Z,la;this.iVController=function(b,c,g,d){if(!(b==null||c==null||g==null))if(F||(F=g),g=ma(c),c.colorImages&&c.colorImages[g]&&c.colorImages[g].length>0&&c.useIV)la||(la=d),pa()?(ea(b),w=ma(c),s=S(c.colorImages),window.ivStrings=c.staticStrings,
U=c.title,Q=c.staticImages,Z=c.airyConfig,L=F.getVideos(w)||L,p&&p.remove(),fa()):(ea(b),a("#iv_media_select").val("all"),a(".iv_thumb_videos").hide(),a(".iv_thumbs").show(),a(".iv_type_video").show()),a.AmazonPopover.displayPopover(qa())};var ea=function(b){var c;if(b.action=="thumb-action")c=b.data;else if(b.action=="main-image-click"&&(b=a("altImages,.a-button-selected"),b!=null&&b.parent()!=null&&b.parent().data()!=null))c=b.parent().data().thumbAction;c==null&&(c={thubnailIndex:0,type:"image",
index:0});R=c.thumbnailIndex;V=c.type;V=="image"?(k=c.index,o=-1):(k=-1,o=c.index)},pa=function(){if(w)if(z()){if(typeof DetailPage!="undefined"&&DetailPage.StateController&&F.getColorFromState(DetailPage.StateController.getState().selected_variations)==w)return!1}else return!1;return!0},z=function(){return typeof z!="undefined"&&z?!0:!1},fa=function(){p=a('<div style="display:none;height:'+(a(window).height()-X)+'px; width:100%; padding: 0px 15px 15px 15px;" id="IV-Main"></div>');d();ga();p.append('<div style="clear:both"/>');
a("#imageBlock_feature_div").before(p);p.find("#iv-large-image").click(function(j){if(!r&&!ka)if(ha)i();else if(C=m(C),B>=1E3||u>=1E3)v.find("#iv-large-image").empty().append(N),p.find(".fullScreen").load(function(){if(B>=1E3||u>=1E3){a.browser.mozilla?v.css({cursor:"-moz-zoom-out"}):v.css({cursor:"url('"+Q.zoomOut+"'), auto"});ha=!0;var c=v.find("#iv-large-image"),g=p.find(".fullScreen");B=g.width();u=g.height();e=v.width()-B;b=v.height()-u;var g=v.height()/2,d=v.width()/2;x=[c.offset().left+d,c.offset().top+
g];C.top=g-u/2;C.left=d-B/2;v.find(".fullScreen").css({position:"relative",left:C.left,top:C.top});G=Math.max(u/v.height(),B/v.width());G=Math.max(G,4)}I(j)})});p.find("#iv-first-column").mousemove(function(a){ha&&I(a)});g();J();W();D();l();A()},S=function(b){var c={};a.each(b,function(g){c[g]={images:{thumbnails:a.map(b[g],function(a){return a.thumb}),zoomImages:a.map(b[g],function(a){return a.hiRes||a.large||a.main[a.main.length-1]})}}});return c},ma=function(a){var b=null;typeof DetailPage!="undefined"&&
DetailPage.StateController&&(b=F.getColorFromState(DetailPage.StateController.getState().selected_variations));return b=b||a.defaultColor},qa=function(){var b="close",c=q.staticStrings;c&&c.close&&(b=c.close);return{localContent:"#IV-Main",width:a(window).width()-da,location:function(){return{left:20,top:28}},zIndex:999,paddingLeft:0,paddingRight:0,paddingBottom:0,closeText:b,modal:!0,group:"ImmersiveView",onShow:ca,onHide:O}};return this});q.when("ImageBlockBTF").execute(function(h){h=h.airyConfig;
q.load.js(h.jsUrl);h.cssUrl&&q.load.css(h.cssUrl)});q.when("A","jQuery","imageBlockUtils","ImageBlockATF","ImageBlockBTF","immersiveView","imageBlockLogger","Airy").register("imageBlockMain",function(h,a,ra,e,b,d){if(b&&b.colorImages&&e&&e.colorImages)b.colorImages.initial=e.colorImages.initial,b.colorImages[b.landingAsinColor]=e.colorImages.initial;if(b&&b.heroImage&&e&&e.heroImage)b.heroImage.initial=e.heroImage.initial,b.heroImage[b.landingAsinColor]=e.heroImage.initial;if(b&&b.colorImages&&e&&
e.colorToAsin&&e.colorToAsin.initial&&e.colorToAsin.initial[0])b.initialColorToAsinMap=e.colorToAsin.initial[0].main;b.holderRatio=b&&e.holderRatio?e.holderRatio:1;b.holderMaxHeight=e.holderMaxHeight;b.useStretchyImageFix=e.useStretchyImageFix;new function(b,e){var l,H,K,f,i;function c(){h.declarative("thumb-action",["click",la?"":"mouseenter"],ca);h.declarative("thumb-action",["mouseleave"],ba);h.declarative("main-image-click",["click"],Y);h.declarative("main-image-click",["mouseenter","mouseleave"],
aa);h.declarative("main-video-click",["click"],function(a){h.trigger("mainVideoClick",a)})}function A(){var a=DetailPage.StateController.getState();if((a=n.getColorFromState(a.selected_variations))&&a!="")E(a),n.setLandingColor(a);h.on("image-block-twister-swatch-hover",o);h.on("image-block-twister-swatch-click",k);h.on("image-block-video-fetch-completed",W)}function I(){n.resizeHappened();J();if(r.length&&b.burjImageBlock){var a=m();a&&typeof a!="undefined"&&(a.xPos&&typeof a.xPos!="undefined"?r.css({"background-position":a.xPos+
"px "+a.yPos+"px"}):r.css({"background-position":"center "+a.yPos+"px"}),r.css({"background-size":a.width+"px "+a.height+"px","max-width":a.width+"px","min-height":a.height+"px",filter:"","-ms-filter":""}))}}function m(j){if(b.burjImageBlock){if(!j||typeof j=="undefined"){var c=p(l);if(c==-1)return;j=a.map(c.main,function(a,b){return b})[0];j=c.main[j]}c=Q(j);j=F(c[0],j);return{height:c[1],width:c[0],xPos:j,yPos:75}}}function J(){var j=x.find(".item .imgTagWrapper"),c=n.getMainBlockHeight(),d=n.getMaxDimensionsOfMainImage();
c>0&&(G.height(c),j.height(c));x.find("img.a-dynamic-image").each(function(){var j=a(this);if(j.data("a-manual-replacement")){var c=n.loadDynamicImage(this);c&&j.attr("src",c)}var e;b.useStretchyImageFix?(e=j.data("a-dynamic-image"),c=n.getMaxHeightOfMainImage(e),e=n.getMaxWidthOfMainImage(e)):(c=G.height(),e=G.width());d&&typeof d!=="undefined"&&(e=Math.min(d[0],e),c=Math.min(d[1],c));j.attr("style","max-height: "+c+"px; max-width: "+e+"px;")});v()}function $(){var b=G.height(),c=0,d=0;a.each(L,
function(a,b){var j=b[0],g=b[1];j>d&&(d=j,c=g)});b=Math.min(b,c)}function D(c,d,e,f,h){var i=t.find(".template").clone().removeClass("template").addClass("item"),l=a("<img />").attr("src",d.thumb);b.autoplayVideo&&h?c=="chromeless-video"&&i.find(".a-button").addClass("a-button-selected"):f==H&&i.find(".a-button").addClass("a-button-selected");i.find(".placeHolder").replaceWith(l);i.find(".a-declarative").attr("data-thumb-action",'{"index":"'+e+'", "thumbnailIndex":"'+f+'", "type": "'+c+'", "variant": "'+
d.variant+'"}');return i}function W(c,d){t.find(".item").remove();var e,f=0,i=C[c],l=n.getVideos(c),k=l.length>0&&b.alwaysIncludeVideo?1:0;if(N&&(e=N[c]))e=D("hero-image",e,f,f,d),t.append(e),f++;i&&a.each(i,function(a,c){if(f>=b.maxAlts-k)return K===a&&h.trigger("image-block-select-thumbnail",t.find("img:first")),!1;var j=D("image",c,a,f,d);t.append(j);f++});a.each(l,function(a,c){if(f>=b.maxAlts)return!1;if(b.thumbExperimentEnabledValue!==1)c.thumb=b.staticImages.videoThumbIcon;var j=Z?D("chromeless-video",
c,a,f,d):D("chromeful-video",c,a,f);t.append(j);f++})}function E(a,b,c,d,g){a&&(l=a);b&&(f=b);typeof c!=="undefined"&&(K=c);typeof d!=="undefined"&&(H=d);g&&(i=g)}function aa(b){var c=!1;b.type=="mouseenter"&&(c=!0);var d,b=a("altImages,.a-button-selected");if(b!=null&&b.parent()!=null&&b.parent().data()!=null)d=b.parent().data().thumbAction;d&&typeof d.index!=="undefined"&&typeof d.thumbnailIndex!=="undefined"&&d.type&&n.setImageCaption(l,d.type,d.index,d.thumbnailIndex,0,c)}function ba(a){(a=a.data)&&
typeof a.index!=="undefined"&&typeof a.thumbnailIndex!=="undefined"&&a.type&&n.setImageCaption(l,a.type,a.index,a.thumbnailIndex);b.burjImageBlock&&ca(ma)}function O(){b.useIV&&x.css("cursor","pointer")}function ca(c){var d=c.data;if(!d)return-1;ia();if(d.index==null||d.thumbnailIndex==null||d.type==null)return-1;var e=c.$declarativeParent.find(".a-button");if(!b.burjImageBlock||b.burjImageBlock&&c.type==="click")t.find(".a-button").removeClass("a-button-selected"),a(e).addClass("a-button-selected").removeClass("a-button-focus");
var f,e=l,i=d.type,k=d.index,m=d.thumbnailIndex;i==="chromeless-video"?n.getVideos(l)[k]==null?f=-1:(f=X(e,k,m),z&&z.play()):i==="chromeful-video"?(f=n.getVideos(l)[k])?(e=b.holderRatio||1,i=n.getMaxDimensionsOfMainImage(),k=parseInt(f.videoWidth,10),m=parseInt(f.videoHeight,10),S.parent().css("z-index",2),m!=0&&k!=0&&(k/=m,i&&typeof i!=="undefined"&&(e=G.width()/G.height()),e>k?S.css("width",k/e*100+"%"):S.css("height",e/k*100+"%")),b.useIV&&x.css("cursor","default"),z?(z.show(),a("#video-canvas-caption").show(),
n.loadMediaIntoAiryAndSetVolume(z,f,fa)):(z=n.embedAiryForChromefulPlayback(S,f,fa),f=a("#image-canvas-caption").clone().attr("id","video-canvas-caption"),f.appendTo(S),f.find("#canvasCaption").html(b.staticStrings.playVideo)),f=S):f=-1:i==="hero-image"?f=ja(e,k,m):x.find(".item.itemNo"+m).length>0?f=x.find(".item.itemNo"+m):i=="image"&&(f=M(e,k,m));if(f!==-1){z&&!(d.type==="chromeless-video"||d.type==="chromeful-video")&&U();if(b.burjImageBlock&&c.type==="click"||b.burjImageBlock&&!qa)ma=c,qa=!0;
s(f);f=!0;ea&&(f=ea=!1);n.setImageCaption(l,d.type,d.index,d.thumbnailIndex,0,f);E(l,d.type,d.index,d.thumbnailIndex,d.variant);I();c.type==="click"&&!b.notThumbnailClickImmersiveView&&na(c)}else n.showUnavailableExp();h.trigger("image-block-thumbnail-selected",d)}function U(){z&&(z.hide(),S.parent().css("z-index",-1),a("#video-canvas-caption").hide(),O())}function s(a,b){if(a==null)return-1;x.find("li").removeClass("selected");n.hideUnavailableExp();if(!a.hasClass("fullImage")){r.length&&r.addClass("hide-background");
var c=G.css("height");c!=null&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");b||v()}}function o(a,c,d){var g;ia();ea=!0;U();a=(a=d?d:n.getColorFromState(c.getState().hovered_variations))&&a!=""?a:b.defaultColor;g=(c=n.getColorFromState(c.getState().selected_variations))&&c!=""?c:b.defaultColor,c=g;if(c==l&&l==a)b.isSwatchHoverConsistent?h.trigger("image-block-select-thumbnail",t.find("img:eq("+H+")")):h.trigger("image-block-select-thumbnail",t.find("img:first"));else{c=!1;if(b.isSwatchHoverConsistent)if(f===
"hero-image")d=V(a),i===d.variant&&(c=!0);else var d=a,e=w(d,i),d=e===-1?R(d,0):R(d,e);else d=R(a,0);if(d==-1)if(p(a)!=-1)d=V(a),s(r,!0),c=1;else{c=x.find(".item.itemNo0");s(c);n.showUnavailableExp(a);return}c||(a=x.find(".swatchHoverExp"),c=T(d),a.find("img"),a.find(".imgTagWrapper").html(c),n.loadImageManually(a.find(".a-dynamic-image")),s(a,!0))}}function k(a,c,d,e){ia();ea=!0;a=(a=e?e:n.getColorFromState(c.getState().selected_variations))&&a!=""?a:b.defaultColor;if(a==l)typeof d=="function"&&
d();else{var e=a,h="image",k=0,m=0,c="MAIN";if(f==="hero-image")p(e)!==-1&&(h="hero-image",c=i);else{var o=w(e,i);o!==-1&&(m=k=o,c=i);p(e)!==-1&&m++}e=h;h=c;e==="hero-image"?(r.hasClass("twisted")||r.addClass("twisted"),c=ja(a,k,m,d)):c=M(a,k,m,d);if(c==-1)if(h=p(a),h!=-1)c=ja(a,k,m,d),e="hero-image",h=h.variant,m=0;else{n.showUnavailableExp(a);return}E(a,e,k,m,h);oa();x.find(".list .item").remove();r.length&&f!=="hero-image"&&r.addClass("twisted");c.hasClass("fullImage")||x.find(".list").append(c);
v();W(a)}}function w(b,c){if(C.length<1)return-1;if(!C[b])return-1;if(!c)return-1;var d=-1;a.each(C[b],function(a,b){b.variant===c&&(d=a)});return d}function R(b,c){return C.length<1?-1:!C[b]?-1:!C[b][c]?-1:!C[b][c].main?-1:a.map(C[b][c].main,function(a,b){return b}).length<1?-1:C[b][c]}function V(b){var c=p(b);if(c==-1)return R(b,0);b=a.map(c.main,function(a,b){return b})[0];da(b,c.main[b]);r.addClass("twisted");r.hasClass("hide-background")&&r.removeClass("hide-background");return c}function p(b){return N.length<
1?-1:!N[b]?-1:!N[b].main?-1:a.map(N[b].main,function(a,b){return b}).length<1?-1:N[b]}function F(a,c){var d;if(b.burjImageBlock){var e=window.innerWidth,f=b.heroFocalPoint;f&&typeof f!="undefined"&&(d=Math.max((e-1280)/2,0),e=Math.max(Math.min(e,1280),1024),d=d+(e-420-23)/2-a/c[0]*f)}return d}function Q(a){var c;if(b.burjImageBlock){c=a[0];a=a[1];if(window.innerHeight<=768)c*=0.7,a*=0.7;else{var d=(window.innerWidth-1024)/256,d=Math.max(Math.min(d,1),0);c*=0.7+0.3*d;a*=0.7+0.3*d}c=[c,a]}return c}
function da(a,c){if(r.length&&a&&c){var d=c[0],e=c[1];r.css({"background-image":'url("'+a+'")'});if(b.burjImageBlock){var f=m(c);if(f&&typeof f!="undefined")d=f.width,e=f.height,f.xPos&&typeof f.xPos!="undefined"?r.css({"background-position":f.xPos+"px "+f.yPos+"px"}):r.css({"background-position":"center "+f.yPos+"px"})}r.css({"background-size":d+"px "+e+"px","max-width":d+"px","min-height":e+"px",filter:"","-ms-filter":""})}}function X(a,b){var c=n.getVideos(l)[b];if(!c)return-1;var d=x.find(".chromeless-video");
if(d.hasClass(n.VIDEO_UNSUPPORTED_CLASS_NAME))return n.flashNotInstalled&&x.find(".noFlash").removeClass("a-hidden"),d;if(z)return z.show(),n.loadMediaIntoAiryAndSetVolume(z,c,fa),d;z=n.embedAiryForChromelessPlayback(S,c,fa,t,pa,d);return d}function ia(){n.flashNotInstalled&&x.find(".noFlash").addClass("a-hidden")}function ja(b,c,d,e){b=p(b);if(b==-1)return-1;var f=a.map(b.main,function(a,b){return b})[0],g=b.main[f];r.hasClass("twisted")?(n.loadImageAsynchronously(f,function(){typeof e==="function"&&
e()}),da(f,g),r.removeClass("twisted"),r.hasClass("hide-background")&&r.removeClass("hide-background")):r.hasClass("loaded")?r.removeClass("hide-background"):n.loadImageAsynchronously(f,function(){da(f,g);r.addClass("loaded")});return r}function M(a,b,c,d){a=R(a,b);if(a==-1)return-1;c=x.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height");d=T(a,!1,d);c.find(".placeHolder").replaceWith(d);x.find(".list").append(c);n.loadImageManually(c.find(".a-dynamic-image"));
return c}function T(c,d,e){var f,h,i="",i=n.getMaxDimensionsOfMainImage();a.each(c.main,function(a,c){f||(f=a);b.shouldApplyResizeFix?c[1]>0&&parseFloat(c[0]/c[1])<parseFloat(b.holderRatio)&&!h?h="a-stretch-vertical":h||(h="a-stretch-horizontal"):c[1]>0&&parseFloat(c[0]/c[1])<=parseFloat(b.holderRatio)&&!h?h="a-stretch-vertical":h||(h="a-stretch-horizontal")});var k=" a-dynamic-image ";k+=d?"slateImage":h;var l;b.useStretchyImageFix?(d=n.getMaxHeightOfMainImage(c.main),l=n.getMaxWidthOfMainImage(c.main)):
(d=G.height(),l=G.width());i&&typeof i!=="undefined"&&(l=Math.min(i[0],l),d=Math.min(i[1],d));i="max-height: "+d+"px; max-width: "+l+"px;";d=a("<div />");d.attr({"data-a-dynamic-image":JSON.stringify(c.main),"data-old-hires":c.hiRes,"class":k,"data-a-manual-replacement":"true",style:i,onload:typeof e!="undefined"?e:""});return d}function Y(b){a("input#show-immersive-view-on-softlines").val()=="true"&&B.count("SoftlinesImmersiveViewOnPC",(B.count("SoftlinesImmersiveViewOnPC")||0)+1);na(b)}function na(a){if(b.useIV){if(z)fa.volume=
z.getVolume(),z.pause();d.iVController(a,b,n,pa)}}function oa(){u&&(u.destroy(),u=void 0)}function v(){b.useHoverZoom&&q.when("imageMagnifier").execute(function(){var a={adjustment:[0,0,1,1],generalImageUrls:b.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:b.useHoverZoomIpad,useHoverZoom:b.useHoverZoom,logMetrics:null,isUDP:b.isUDP,burjImageBlock:b.burjImageBlock,useClickZoom:b.useClickZoom,zoomOutIcon:b.staticImages.zoomOutCur};oa();var c=
x.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");c.length>0&&(b.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){u=c.amazonMagnifier(a);u.engageMagnifier(b,!0)}),ha?c.css("cursor",'url("'+b.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):u=c.amazonMagnifier(a))})}var ka=navigator.userAgent.match(/cloud9|android|silk-accelerated/i),ha=navigator.userAgent.match(/msie|trident/i);
b.useHoverZoom=b.useHoverZoom&&!ka;var B=window.ue,u;l=b.defaultColor;f="image";K=0;H=0;i="MAIN";var C=b.colorImages,N=b.heroImage,x=a("#imageBlock .canvas"),G=a("#main-image-container"),r=a("#heroImage"),n=e.init(b),L=b.mainImageSizes,t=a("#imageBlock #altImages ul"),Z=b.useChromelessVideoPlayer,la=navigator.userAgent.match(/ipad/i),ea=!0,pa=new window.ImageBlockclientLogger("ImageBlockUDP",!0),z,fa=b.airyConfig,S=function(){var b=a("<div></div>").attr("id","main-video-container"),c=a("<div></div>").attr("id",
"video-outer-container");b.prependTo(c);return Z?b:b.addClass("chromeful-container")}(),ma,qa=!1;b.isDebug&&window.console&&console.log(b);(function(){S.parent().prependTo(G);c();q.when("dpf").execute(A);amznJQ&&amznJQ.available("dpf",A);a(window).resize(I);h.on("image-block-select-thumbnail",function(a){a&&(a.length<=0||(la?a.click():a.mouseover()))});W(l,!0);$();b.autoplayVideo?h.trigger("image-block-select-thumbnail",t.find("img:last")):h.trigger("image-block-select-thumbnail",t.find("img:first"));
O()})()}(b,ra)})})})(function(){var q=window.AmazonUIPageJS||P,h=q.attributeErrors;return h?h("ImageBlockJSAssets"):q}());